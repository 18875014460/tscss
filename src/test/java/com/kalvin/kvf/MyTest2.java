package com.kalvin.kvf;

import com.kalvin.kvf.modules.sys.infoMng.common.GA;
import com.kalvin.kvf.modules.sys.infoMng.common.GAConstant;
import com.kalvin.kvf.modules.sys.infoMng.common.GAUtils;
import org.junit.Test;
import org.springframework.beans.factory.annotation.Autowired;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;

public class MyTest2 {

    @Autowired
    GA ga;

    @Test
    public void stringTest() {
        String str = "00110000860106";
        String str1 = "00110000860106";
        List<String> list = new ArrayList<>();
        list.add(str);
        list.add(str1);

        for (String s : list) {
            s = s + "00";
        }
        for (String s : list) {
            System.out.println(s);
        }

        System.out.println(str.substring(0, 14));
    }

    @Test
    public void lambdaTest() {
        List<String> resultGeneList = Arrays.asList("00030000060001010720", "00250000070002010813", "00170000080003010910", "00230000090001010704", "00130000100002010816", "00180000110003010915", "00050000120001010717", "00240000130002010814", "00190000140003010913", "00060000150001010701", "00060000160002010815", "00060000170003010906", "00070000180001010707", "00070000190002010812", "00070000200003010912", "00080000210001010703", "00080000220002010811", "00080000230003010904", "00090000240001010712", "00090000250002010820", "00090000260003010907", "00100000270001010709", "00100000280002010810", "00100000290003010909", "00110000300001010718", "00110000310002010808", "00110000320003010905", "00120000330004010104", "00170000340005010212", "00030000350006010310", "00130000360004010109", "00040000370005010215", "00230000380006010313", "00140000390004010116", "00050000400005010219", "00190000410006010311", "00150000420004010120", "00150000430005010202", "00150000440006010318", "00160000450004010115", "00160000460005010210", "00160000470006010309", "00080000480004010117", "00080000490005010213", "00080000500006010305", "00090000510004010113", "00090000520005010214", "00090000530006010316", "00220000540004010107", "00220000550005010211", "00220000560006010304", "00110000570004010110", "00110000580005010208", "00110000590006010319", "00170000600007010402", "00250000610008010515", "00120000620009010604", "00180000630007010411", "00130000640008010508", "00040000650009010613", "00240000660007010404", "00140000670008010517", "00050000680009010606", "00200000690007010415", "00200000700008010506", "00200000710009010620", "00210000720007010419", "00210000730008010516", "00210000740009010619", "00080000750007010401", "00080000760008010512", "00080000770009010614", "00090000780007010414", "00090000790008010507", "00090000800009010617", "00220000810007010418", "00100000820008010504", "00100000830009010612", "00110000840007010417", "00110000850008010511", "00110000860009010605");
        Map<String, List<String>> maps = resultGeneList.stream()
                .collect(Collectors.groupingBy(t -> GAUtils.cutGene(GAConstant.CLASS_NO, t)));

        for (String key : maps.keySet()) {
            System.out.println(key + " : " + maps.get(key));
        }

    }

    @Test
    public void listTest() {
        List<String> stringList = new ArrayList<>();
        stringList.add("a");
        stringList.add("b");
        stringList.add("c");
        List<String> stringList1 = stringList;
        stringList1.remove("c");
        System.out.println(stringList);
        System.out.println(stringList1);
    }


    @Test
    public void valueTest() {
        List<String> list1 = Arrays.asList("0017000060000701040103", "0017000060000701040112", "0017000060000701040108", "0018000063000701040107", "0018000063000701040101", "0018000063000701040105", "0024000066000701040106", "0024000066000701040117", "0024000066000701040120", "0020000069000701040116", "0020000069000701040118", "0020000069000701040109", "0021000072000701040102", "0021000072000701040110", "0021000072000701040119", "0008000075000701040211", "0009000078000701040215", "0022000081000701040213", "0022000081000701040214", "0011000084000701040204");
        List<String> list2 = Arrays.asList("0017000060000701040108", "0017000060000701040112", "0017000060000701040103", "0018000063000701040107", "0018000063000701040101", "0018000063000701040105", "0024000066000701040106", "0024000066000701040117", "0024000066000701040120", "0020000069000701040116", "0020000069000701040118", "0020000069000701040109", "0021000072000701040102", "0021000072000701040110", "0021000072000701040119", "0008000075000701040211", "0009000078000701040215", "0022000081000701040213", "0022000081000701040214", "0011000084000701040204");

        double v = GAUtils.alculateExpectedValue(list1);
        double v1 = GAUtils.alculateExpectedValue(list2);
        System.out.println(v);
        System.out.println(v1);
    }




}
